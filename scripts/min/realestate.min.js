var nret=nret||{};!function(e){var t=function(t){function a(e){u=e.touches[0].clientX,p=e.touches[0].clientY}function n(e){if(u&&p){var t=e.touches[0].clientX,a=e.touches[0].clientY,n=u-t,r=p-a;Math.abs(n)>Math.abs(r)&&(n>0?l.previous():l.next()),u=null,p=null}}function r(e){return e<0?l.itemLength-1:e>=l.itemLength?0:e}function o(){i(l.activeIndex+1)}function s(){i(l.activeIndex-1)}function i(e){c.removeClass("active"),m.removeClass("active"),l.activeIndex=r(e),c.eq(l.activeIndex).addClass("active"),m.eq(l.activeIndex).addClass("active")}var l=this,c=e(".real-estate-carousel__item",t),m=e(".real-estate-carousel__pagination button",t),u=null,p=null;c.length<=1||(l.activeIndex=e(".real-estate-carousel__item.active",t).index(),l.itemLength=c.length,l.next=o,l.previous=s,l.paginate=i,function(){e(".real-estate-carousel__next",t).on("click",function(){l.next()}),e(".real-estate-carousel__previous",t).on("click",function(){l.previous()}),t.addEventListener("touchstart",a,!1),t.addEventListener("touchmove",n,!1),m.on("click",function(){var t=e(this).index();l.paginate(t)})}())};e(".real-estate-carousel").each(function(e,a){new t(a)})}(jQuery),function(e){$contactForm=e("#real-estate-contact-form"),$contactForm&&(e("input[type=radio][name=real-estate-topic]",$contactForm).on("change",function(){var t="marketing"===this.value?"developing":this.value;e(".real-estate-contact-form__follow-up",$contactForm).hide(),e(".real-estate-contact-form__follow-up--"+t,$contactForm).show()}),$contactForm.submit(function(t){t.preventDefault();var a,n=e(this).serializeArray(),r=e("#real-estate-contact-form button[type=submit]").text();e("#real-estate-contact-form button[type=submit]").text("Sending..."),e.ajax({type:"POST",url:"/api/v1/realstatecontact",data:n,success:function(t){t.error?e("#real-estate-contact-form button[type=submit]").text("Error, Try Again"):e("#real-estate-contact-form button[type=submit]").text("Sent"),window.clearTimeout(a),a=setTimeout(function(){e("#real-estate-contact-form button[type=submit]").text(r)},5e3)}})}))}(jQuery);var nret=nret||{};!function(e){nret.realEstateCaseStudy={init:function(){}}}(jQuery);var nret=nret||{};!function(e){function t(e,t){for(var a=e+"";a.length<t;)a="0"+a;return a}nret.realEstateCommunity={addListeners:function(){e(".real-estate-community-listings .sort-by-container > select").on("change",nret.realEstateCommunity.communitySort)},setActiveCommunityMapLocation:function(a){e(".community-map-locations-item").removeClass("active"),e(".community-map-locations-item").eq(a).addClass("active");for(var n=0;n<nret.realEstateCommunity.communityMapMarkers.length;n++){var r=n===a?"http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld="+t(n+1,2)+"|2A2C33|FFFFFF":"http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld="+t(n+1,2)+"|FFFFFF|000000";nret.realEstateCommunity.communityMapMarkers[n].setIcon(r),nret.realEstateCommunity.communityMapMarkers[n].setZIndex(google.maps.Marker.MAX_ZINDEX+1)}},communityMap:function(){var a=e("#community-map");if(a.length){var n=e(".community-map-locations-item"),r=new google.maps.Map(a[0],{center:{lat:parseFloat(n.eq(0).data("latitude")),lng:parseFloat(n.eq(0).data("longitude"))},fullscreenControl:!1,mapTypeControl:!1,mapTypeId:"hybrid",rotateControl:!1,scaleControl:!0,streetViewControl:!1,scrollwheel:!1,zoom:8,zoomControl:!0});e(".community-map-locations-item button").click(function(){var t=e(this).closest(".community-map-locations-item").index(),a=nret.realEstateCommunity.communityMapMarkers[t];r.setCenter(a.getPosition()),a.setZIndex(google.maps.Marker.MAX_ZINDEX+1),nret.realEstateCommunity.setActiveCommunityMapLocation(t)});for(var o=0;o<n.length;o++)!function(e){var a=0===e?"http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld="+t(e+1,2)+"|2A2C33|FFFFFF":"http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld="+t(e+1,2)+"|FFFFFF|000000",o=new google.maps.Marker({icon:a,position:{lat:parseFloat(n.eq(e).data("latitude")),lng:parseFloat(n.eq(e).data("longitude"))},map:r});o.addListener("click",function(){r.setZoom(8),r.setCenter(o.getPosition()),o.setZIndex(google.maps.Marker.MAX_ZINDEX+1),nret.realEstateCommunity.setActiveCommunityMapLocation(e)}),nret.realEstateCommunity.communityMapMarkers.push(o)}(o);for(var s=new google.maps.LatLngBounds,o=0;o<nret.realEstateCommunity.communityMapMarkers.length;o++)s.extend(nret.realEstateCommunity.communityMapMarkers[o].getPosition());r.fitBounds(s),nret.realEstateCommunity.setActiveCommunityMapLocation(0)}},communityMapMarkers:[],communitySort:function(t){var a=e(".real-estate-community-listings__teasers"),n=e(".real-estate-community-listings .sort-by-container > select"),r=e("article.real-estate-property-teaser");[].sort.call(r,function(t,a){var r=parseInt(+e(t).attr("data-bedrooms").replace(/\D/g,"")),o=parseInt(+e(a).attr("data-bedrooms").replace(/\D/g,"")),s=parseInt(+e(t).attr("data-price").replace(/\D/g,"")),i=parseInt(+e(a).attr("data-price").replace(/\D/g,""));switch(n.val()){case"1":return r-o;case"2":return o-r;case"3":return s-i;case"4":return i-s}}),r.each(function(){a.append(this)})},init:function(){nret.realEstateCommunity.addListeners(),nret.realEstateCommunity.communitySort(),nret.realEstateCommunity.communityMap()}}}(jQuery);var nret=nret||{};!function(e){nret.realEstateContact={init:function(){}}}(jQuery);var nret=nret||{};!function(e){nret.realEstateHomepage={addListeners:function(){e(".real-estate-homepage-nav__menu-item > button").on("click",function(){e(this).closest(".real-estate-homepage-nav__menu-item").siblings().removeClass("active open"),e(this).closest(".real-estate-homepage-nav__menu-item").toggleClass("open").addClass("active")})},init:function(){nret.realEstateHomepage.addListeners()}}}(jQuery);var nret=nret||{};!function(e){nret.realEstateOurDifferences={markers:[],setLocationsMapLocation:function(t){var a=e(".our-differences-map-locations-item");a.removeClass("active"),a.eq(t).addClass("active");for(var n=0;n<nret.realEstateOurDifferences.markers.length;n++)n===t?nret.realEstateOurDifferences.markers[n].setIcon({anchor:new google.maps.Point(31,31),origin:new google.maps.Point(0,0),scaledSize:new google.maps.Size(34,49),size:new google.maps.Size(34,49),url:"https://s3.amazonaws.com/natural-retreats/real-estate/google-maps-marker-active.png"}):nret.realEstateOurDifferences.markers[n].setIcon({anchor:new google.maps.Point(14,14),origin:new google.maps.Point(0,0),scaledSize:new google.maps.Size(18,26),size:new google.maps.Size(18,26),url:"https://s3.amazonaws.com/natural-retreats/real-estate/google-maps-marker.png"})},ourLocationsMap:function(){var t=e("#our-differences-map");if(t.length)for(var a=e(".our-differences-map-locations-item"),n=new google.maps.Map(t[0],{center:{lat:parseFloat(a.eq(0).data("latitude")),lng:parseFloat(a.eq(0).data("longitude"))},fullscreenControl:!1,mapTypeControl:!1,rotateControl:!1,scaleControl:!0,scrollwheel:!1,streetViewControl:!1,styles:[{featureType:"administrative",elementType:"all",stylers:[{saturation:"-100"}]},{featureType:"administrative.province",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"all",stylers:[{saturation:-100},{lightness:65},{visibility:"on"}]},{featureType:"poi",elementType:"all",stylers:[{saturation:-100},{lightness:"50"},{visibility:"simplified"}]},{featureType:"road",elementType:"all",stylers:[{saturation:"-100"},{visibility:"off"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"all",stylers:[{lightness:"30"}]},{featureType:"road.local",elementType:"all",stylers:[{lightness:"40"}]},{featureType:"transit",elementType:"all",stylers:[{saturation:-100},{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{lightness:"100"}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#ffff00"},{lightness:-25},{saturation:-97}]},{featureType:"water",elementType:"labels",stylers:[{lightness:-25},{saturation:-100}]}],zoom:3,zoomControl:!0}),r=0;r<a.length;r++)!function(e){var t=new google.maps.Marker({icon:0===e?{anchor:new google.maps.Point(31,31),origin:new google.maps.Point(0,0),scaledSize:new google.maps.Size(34,49),size:new google.maps.Size(34,49),url:"https://s3.amazonaws.com/natural-retreats/real-estate/google-maps-marker-active.png"}:{anchor:new google.maps.Point(14,14),origin:new google.maps.Point(0,0),scaledSize:new google.maps.Size(18,26),size:new google.maps.Size(18,26),url:"https://s3.amazonaws.com/natural-retreats/real-estate/google-maps-marker.png"},position:{lat:parseFloat(a.eq(e).data("latitude")),lng:parseFloat(a.eq(e).data("longitude"))},map:n});t.addListener("click",function(){n.setZoom(3),n.setCenter(t.getPosition()),nret.realEstateOurDifferences.setLocationsMapLocation(e)}),nret.realEstateOurDifferences.markers.push(t)}(r)},init:function(){nret.realEstateOurDifferences.ourLocationsMap()}}}(jQuery);var nret=nret||{};!function(e){nret.realEstateProperty={propertyFeaturesMobileDrawers:function(){e(".real-estate-property-features .feature button").on("click",function(){e(this).closest(".feature").siblings().removeClass("open"),e(this).closest(".feature").toggleClass("open")})},propertyMap:function(){var t=e("#property-map");if(t.length){var a=new google.maps.Map(t[0],{center:{lat:parseFloat(t.data("lat")),lng:parseFloat(t.data("lng"))},fullscreenControl:!1,mapTypeControl:!1,rotateControl:!1,scaleControl:!0,scrollwheel:!1,streetViewControl:!1,styles:[{featureType:"administrative",elementType:"all",stylers:[{saturation:"-100"}]},{featureType:"administrative.province",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"all",stylers:[{saturation:-100},{lightness:65},{visibility:"on"}]},{featureType:"poi",elementType:"all",stylers:[{saturation:-100},{lightness:"50"},{visibility:"simplified"}]},{featureType:"road",elementType:"all",stylers:[{saturation:"-100"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"all",stylers:[{lightness:"30"}]},{featureType:"road.local",elementType:"all",stylers:[{lightness:"40"}]},{featureType:"transit",elementType:"all",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#ffff00"},{lightness:-25},{saturation:-97}]},{featureType:"water",elementType:"labels",stylers:[{lightness:-25},{saturation:-100}]}],zoom:3,zoom:8,zoomControl:!0});new google.maps.Marker({icon:{anchor:new google.maps.Point(14,14),origin:new google.maps.Point(0,0),scaledSize:new google.maps.Size(18,26),size:new google.maps.Size(18,26),url:"https://s3.amazonaws.com/natural-retreats/real-estate/google-maps-marker.png"},position:{lat:parseFloat(t.data("lat")),lng:parseFloat(t.data("lng"))},map:a})}},init:function(){nret.realEstateProperty.propertyFeaturesMobileDrawers(),nret.realEstateProperty.propertyMap()}}}(jQuery);var nret=nret||{};!function(e){nret.realEstateServices={init:function(){}}}(jQuery);